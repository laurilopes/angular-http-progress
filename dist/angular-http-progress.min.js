angular.module("thatisuday.angular-http-progress",[]),angular.module("thatisuday.angular-http-progress").directive("angularHttpProgress",["$rootScope","$interval","$timeout","$http","$httpProgressOps",function(t,e,n,r,s){return{restrict:"E",scope:{},template:'<div id="progress" style="width: {{ width + \'%\'}}; background : {{background}}" ng-show="visible"><dt style="box-shadow: {{background}} 1px 0 6px 1px;"></dt><dd style="box-shadow: {{background}} 1px 0 6px 1px;"></dd></div>',replace:!0,link:function(a,o,i){a.http=s.http,a.background=s.background,a.autoPauseAt=s.autoPauseAt,a.visible=!1,a.width=0,a.interval=null,t.$on("$httpProgressStart",function(){a.visible||(a.visible=!0),a.interval&&e.cancel(a.interval),a.interval=e(function(){a.width>=a.autoPauseAt?t.$emit("$httpProgressPause"):a.width=a.width+5},1e3)}),t.$on("$httpProgressPause",function(){e.cancel(a.interval),o.addClass("waiting")}),t.$on("$httpProgressResume",function(){o.removeClass("waiting"),t.$emit("$httpProgressStart")}),t.$on("$httpProgressRestart",function(){o.removeClass("done waiting"),a.width=0,t.$emit("$httpProgressStart")}),t.$on("$httpProgressStop",function(){e.cancel(a.interval),n(function(){a.width=100,n(function(){o.addClass("done").removeClass("waiting"),n(function(){o.removeClass("done"),a.width=0,a.visible=!1},500)},300)})}),a.$watch(function(){return r.pendingRequests.length>0},function(e){a.http&&(e?t.$emit("$httpProgressStart"):t.$emit("$httpProgressStop"))})}}}]),angular.module("thatisuday.angular-http-progress").provider("$httpProgressOps",function(){var t={http:!0,background:"#b91f1f",autoPauseAt:90,pendingReq:0};return{setOps:function(e){angular.extend(t,e)},$get:function(){return t}}}),angular.module("thatisuday.angular-http-progress").run(["$document",function(t){0==t.find("#progress").length&&t.find("body").append("<angular-http-progress></angular-http-progress>")}]);
//# sourceMappingURL=angular-http-progress.min.js.map
