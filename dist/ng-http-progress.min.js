angular.module("thatisuday.ng-http-progress",[]),angular.module("thatisuday.ng-http-progress").directive("ngHttpProgress",["$rootScope","$interval","$timeout","$http","$httpProgressOps",function(t,e,n,r,s){return{restrict:"E",scope:{},template:'<div id="progress" style="width: {{ width + \'%\'}}; background : {{background}}" ng-show="visible"><dt style="box-shadow: {{background}} 1px 0 6px 1px;"></dt><dd style="box-shadow: {{background}} 1px 0 6px 1px;"></dd></div>',replace:!0,link:function(o,i,a){o.http=s.http,o.background=s.background,o.autoPauseAt=s.autoPauseAt,o.visible=!1,o.width=0,o.interval=null,t.$on("$httpProgressStart",function(){o.visible||(o.visible=!0),o.interval&&e.cancel(o.interval),o.interval=e(function(){o.width>=o.autoPauseAt?t.$emit("$httpProgressPause"):o.width=o.width+5},1e3)}),t.$on("$httpProgressPause",function(){e.cancel(o.interval),i.addClass("waiting")}),t.$on("$httpProgressResume",function(){i.removeClass("waiting"),t.$emit("$httpProgressStart")}),t.$on("$httpProgressRestart",function(){i.removeClass("done waiting"),o.width=0,t.$emit("$httpProgressStart")}),t.$on("$httpProgressStop",function(){e.cancel(o.interval),n(function(){o.width=100,n(function(){i.addClass("done").removeClass("waiting"),n(function(){i.removeClass("done"),o.width=0,o.visible=!1},500)},300)})}),o.$watch(function(){return r.pendingRequests.length>0},function(e){o.http&&(e?t.$emit("$httpProgressStart"):t.$emit("$httpProgressStop"))})}}}]),angular.module("thatisuday.ng-http-progress").provider("$httpProgressOps",function(){var t={http:!0,background:"#b91f1f",autoPauseAt:90,pendingReq:0};return{setOps:function(e){angular.extend(t,e)},$get:function(){return t}}}),angular.module("thatisuday.ng-http-progress").run(["$document",function(t){0==t.find("#progress").length&&t.find("body").append("<ng-http-progress></ng-http-progress>")}]);
//# sourceMappingURL=ng-http-progress.min.js.map
