angular.module("thatisuday.ng-http-progress",[]),angular.module("thatisuday.ng-http-progress").directive("ngHttpProgress",["$rootScope","$interval","$timeout","$http","$httpProgressOps",function(t,e,r,s,n){return{restrict:"E",scope:{},template:'<div id="progress" style="width: {{ width + \'%\'}}; background : {{background}}" ng-show="visible"><dt style="box-shadow: {{background}} 1px 0 6px 1px;"></dt><dd style="box-shadow: {{background}} 1px 0 6px 1px;"></dd></div>',replace:!0,link:function(o,a,i){if(o.http=n.http,o.background=n.background,o.startAt=n.startAt,o.autoPauseAt=n.autoPauseAt,o.startAt>=o.autoPauseAt)throw new Error("Angular $http Progress : startAt value must be less than autoPauseAt value");o.visible=!1,o.width=0,o.interval=null,o.movedToStart=!1,t.$on("$httpProgressStart",function(){o.visible||(o.visible=!0),o.interval&&e.cancel(o.interval),r(function(){0==o.movedToStart&&(o.movedToStart=!0,o.width=o.startAt),o.interval=e(function(){o.width>=o.autoPauseAt?t.$emit("$httpProgressPause"):o.width=o.width+5},1e3)})}),t.$on("$httpProgressPause",function(){e.cancel(o.interval),a.addClass("waiting")}),t.$on("$httpProgressResume",function(){a.removeClass("waiting"),t.$emit("$httpProgressStart")}),t.$on("$httpProgressRestart",function(){a.removeClass("done waiting"),o.width=0,t.$emit("$httpProgressStart")}),t.$on("$httpProgressStop",function(){e.cancel(o.interval),r(function(){o.width=100,r(function(){a.addClass("done").removeClass("waiting"),r(function(){a.removeClass("done"),o.width=0,o.visible=!1,o.movedToStart=!1},500)},300)})}),o.$watch(function(){return s.pendingRequests.length>0},function(e){o.http&&(e?t.$emit("$httpProgressStart"):t.$emit("$httpProgressStop"))})}}}]),angular.module("thatisuday.ng-http-progress").provider("$httpProgressOps",function(){var t={http:!0,background:"#b91f1f",startAt:0,autoPauseAt:90};return{setOps:function(e){angular.extend(t,e)},$get:function(){return t}}}),angular.module("thatisuday.ng-http-progress").run(["$document",function(t){0==t.find("#progress").length&&t.find("body").append("<ng-http-progress></ng-http-progress>")}]);
//# sourceMappingURL=ng-http-progress.min.js.map
